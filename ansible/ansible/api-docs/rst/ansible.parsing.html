

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ansible.parsing package &mdash; Ansible 1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Ansible 1 documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Ansible
          

          
          </a>

          
            
            
              <div class="version">
                2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="simple">
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Ansible</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>ansible.parsing package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/rst/ansible.parsing.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ansible.parsing">
<span id="ansible-parsing-package"></span><h1>ansible.parsing package<a class="headerlink" href="#module-ansible.parsing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="ansible.parsing.utils.html">ansible.parsing.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ansible.parsing.utils.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible.parsing.utils.html#module-ansible.parsing.utils.addresses">ansible.parsing.utils.addresses module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible.parsing.utils.html#module-ansible.parsing.utils.jsonify">ansible.parsing.utils.jsonify module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ansible.parsing.vault.html">ansible.parsing.vault package</a></li>
<li class="toctree-l1"><a class="reference internal" href="ansible.parsing.yaml.html">ansible.parsing.yaml package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ansible.parsing.yaml.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible.parsing.yaml.html#module-ansible.parsing.yaml.constructor">ansible.parsing.yaml.constructor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible.parsing.yaml.html#module-ansible.parsing.yaml.dumper">ansible.parsing.yaml.dumper module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible.parsing.yaml.html#module-ansible.parsing.yaml.loader">ansible.parsing.yaml.loader module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible.parsing.yaml.html#module-ansible.parsing.yaml.objects">ansible.parsing.yaml.objects module</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ansible.parsing.dataloader">
<span id="ansible-parsing-dataloader-module"></span><h2>ansible.parsing.dataloader module<a class="headerlink" href="#module-ansible.parsing.dataloader" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ansible.parsing.dataloader.DataLoader">
<em class="property">class </em><code class="descclassname">ansible.parsing.dataloader.</code><code class="descname">DataLoader</code><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>The DataLoader class is used to load and parse YAML or JSON content,
either from a given file name or from a string that was previously
read in through other means. A Vault password can be specified, and
any vault-encrypted files will be decrypted.</p>
<p>Data read from files will also be cached, so the file will never be
read from disk more than once.</p>
<p>Usage:</p>
<blockquote>
<div>dl = DataLoader()
# optionally: dl.set_vault_password(&#8216;foo&#8217;)
ds = dl.load(&#8216;...&#8217;)
ds = dl.load_from_file(&#8216;/path/to/file&#8217;)</div></blockquote>
<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.set_vault_password">
<code class="descname">set_vault_password</code><span class="sig-paren">(</span><em>vault_password</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.set_vault_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.set_vault_password" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>data</em>, <em>file_name='&lt;string&gt;'</em>, <em>show_content=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a python datastructure from the given data, which can be either
a JSON or YAML string.</p>
</dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.load_from_file">
<code class="descname">load_from_file</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.load_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.load_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data from a file, which can contain either JSON or YAML.</p>
</dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.path_exists">
<code class="descname">path_exists</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.path_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.path_exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.is_file">
<code class="descname">is_file</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.is_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.is_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.is_directory">
<code class="descname">is_directory</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.is_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.is_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.list_directory">
<code class="descname">list_directory</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.list_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.list_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.is_executable">
<code class="descname">is_executable</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.is_executable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.is_executable" title="Permalink to this definition">¶</a></dt>
<dd><p>is the given path executable?</p>
</dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.get_basedir">
<code class="descname">get_basedir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.get_basedir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.get_basedir" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the current basedir</p>
</dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.set_basedir">
<code class="descname">set_basedir</code><span class="sig-paren">(</span><em>basedir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.set_basedir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.set_basedir" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the base directory, used to find files when a relative path is given</p>
</dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.path_dwim">
<code class="descname">path_dwim</code><span class="sig-paren">(</span><em>given</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.path_dwim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.path_dwim" title="Permalink to this definition">¶</a></dt>
<dd><p>make relative paths work like folks expect.</p>
</dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.path_dwim_relative">
<code class="descname">path_dwim_relative</code><span class="sig-paren">(</span><em>path</em>, <em>dirname</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.path_dwim_relative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.path_dwim_relative" title="Permalink to this definition">¶</a></dt>
<dd><p>find one file in either a role or playbook dir with or without
explicitly named dirname subdirs</p>
<p>Used in action plugins and lookups to find supplemental files that
could be in either place.</p>
</dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.read_vault_password_file">
<code class="descname">read_vault_password_file</code><span class="sig-paren">(</span><em>vault_password_file</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.read_vault_password_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.read_vault_password_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a vault password from a file or if executable, execute the script and
retrieve password from STDOUT</p>
</dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.get_real_file">
<code class="descname">get_real_file</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.get_real_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.get_real_file" title="Permalink to this definition">¶</a></dt>
<dd><p>If the file is vault encrypted return a path to a temporary decrypted file
If the file is not encrypted then the path is returned
Temporary files are cleanup in the destructor</p>
</dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.cleanup_tmp_file">
<code class="descname">cleanup_tmp_file</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.cleanup_tmp_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.cleanup_tmp_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes any temporary files created from a previous call to
get_real_file. file_path must be the path returned from a
previous call to get_real_file.</p>
</dd></dl>

<dl class="method">
<dt id="ansible.parsing.dataloader.DataLoader.cleanup_all_tmp_files">
<code class="descname">cleanup_all_tmp_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/dataloader.html#DataLoader.cleanup_all_tmp_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.dataloader.DataLoader.cleanup_all_tmp_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ansible.parsing.mod_args">
<span id="ansible-parsing-mod-args-module"></span><h2>ansible.parsing.mod_args module<a class="headerlink" href="#module-ansible.parsing.mod_args" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ansible.parsing.mod_args.ModuleArgsParser">
<em class="property">class </em><code class="descclassname">ansible.parsing.mod_args.</code><code class="descname">ModuleArgsParser</code><span class="sig-paren">(</span><em>task_ds={}</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/mod_args.html#ModuleArgsParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.mod_args.ModuleArgsParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base module argument parsing class.</p>
<p>There are several ways a module and argument set can be expressed:</p>
<div class="highlight-python"><div class="highlight"><pre># legacy form (for a shell command)
- action: shell echo hi

# common shorthand for local actions vs delegate_to
- local_action: shell echo hi

# most commonly:
- copy: src=a dest=b

# legacy form
- action: copy src=a dest=b

# complex args form, for passing structured data
- copy:
    src: a
    dest: b

# gross, but technically legal
- action:
    module: copy
    args:
    src: a
    dest: b

# extra gross, but also legal. in this case, the args specified
# will act as &#39;defaults&#39; and will be overridden by any args specified
# in one of the other formats (complex args under the action, or
# parsed from the k=v string
- command: &#39;pwd&#39;
args:
    chdir: &#39;/tmp&#39;
</pre></div>
</div>
<p>This class has some of the logic to canonicalize these into the form:</p>
<div class="highlight-python"><div class="highlight"><pre>- module: &lt;module_name&gt;
delegate_to: &lt;optional&gt;
args: &lt;args&gt;
</pre></div>
</div>
<p>Args may also be munged for certain shell command parameters.</p>
<dl class="method">
<dt id="ansible.parsing.mod_args.ModuleArgsParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/mod_args.html#ModuleArgsParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.mod_args.ModuleArgsParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a task in one of the supported forms, parses and returns
returns the action, arguments, and delegate_to values for the
task, dealing with all sorts of levels of fuzziness.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ansible.parsing.quoting">
<span id="ansible-parsing-quoting-module"></span><h2>ansible.parsing.quoting module<a class="headerlink" href="#module-ansible.parsing.quoting" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ansible.parsing.quoting.is_quoted">
<code class="descclassname">ansible.parsing.quoting.</code><code class="descname">is_quoted</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/quoting.html#is_quoted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.quoting.is_quoted" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ansible.parsing.quoting.unquote">
<code class="descclassname">ansible.parsing.quoting.</code><code class="descname">unquote</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/quoting.html#unquote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.quoting.unquote" title="Permalink to this definition">¶</a></dt>
<dd><p>removes first and last quotes from a string, if the string starts and ends with the same quotes</p>
</dd></dl>

</div>
<div class="section" id="module-ansible.parsing.splitter">
<span id="ansible-parsing-splitter-module"></span><h2>ansible.parsing.splitter module<a class="headerlink" href="#module-ansible.parsing.splitter" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ansible.parsing.splitter.parse_kv">
<code class="descclassname">ansible.parsing.splitter.</code><code class="descname">parse_kv</code><span class="sig-paren">(</span><em>args</em>, <em>check_raw=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/splitter.html#parse_kv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.splitter.parse_kv" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a string of key/value items to a dict. If any free-form params
are found and the check_raw option is set to True, they will be added
to a new parameter called &#8216;_raw_params&#8217;. If check_raw is not enabled,
they will simply be ignored.</p>
</dd></dl>

<dl class="function">
<dt id="ansible.parsing.splitter.split_args">
<code class="descclassname">ansible.parsing.splitter.</code><code class="descname">split_args</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ansible/parsing/splitter.html#split_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible.parsing.splitter.split_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits args on whitespace, but intelligently reassembles
those that may have been split over a jinja2 block or quotes.</p>
<p>When used in a remote module, we won&#8217;t ever have to be concerned about
jinja2 blocks, however this function is/will be used in the
core portions as well before the args are templated.</p>
<p>example input: a=b c=&#8221;foo bar&#8221;
example output: [&#8216;a=b&#8217;, &#8216;c=&#8221;foo bar&#8221;&#8217;]</p>
<p>Basically this is a variation shlex that has some more intelligence for
how Ansible needs to use it.</p>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Red Hat.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>