<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ansible.template</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ansible-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >ansible</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ansible-module.html">Package&nbsp;ansible</a> ::
        Package&nbsp;template
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ansible.template-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== PACKAGE DESCRIPTION ==================== -->
<h1 class="epydoc">Package template</h1><p class="nomargin-top"><span class="codelink"><a href="ansible.template-pysrc.html">source&nbsp;code</a></span></p>
<!-- ==================== SUBMODULES ==================== -->
<a name="section-Submodules"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Submodules</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Submodules"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr><td class="summary">
  <ul class="nomargin">
    <li class="private"> <strong class="uidlink">ansible.template.safe_eval</strong>    </li>
    <li> <strong class="uidlink"><a href="ansible.template.safe_eval%27-module.html">ansible.template.safe_eval'</a></strong>    </li>
    <li class="private"> <strong class="uidlink"><a href="ansible.template.template-module.html" onclick="show_private();">ansible.template.template</a></strong>    </li>
    <li class="private"> <strong class="uidlink"><a href="ansible.template.vars-module.html" onclick="show_private();">ansible.template.vars</a></strong>    </li>
  </ul></td></tr>
</table>

<br />
<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ansible.template.Templar-class.html" class="summary-name">Templar</a><br />
      The main class for templating, with the main entry-point of 
        template().
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ansible.template-module.html#_escape_backslashes" class="summary-sig-name" onclick="show_private();">_escape_backslashes</a>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">jinja_env</span>)</span><br />
      Double backslashes within jinja2 expressions</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ansible.template-pysrc.html#_escape_backslashes">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ansible.template-module.html#_count_newlines_from_end" class="summary-sig-name" onclick="show_private();">_count_newlines_from_end</a>(<span class="summary-sig-arg">in_str</span>)</span><br />
      Counts the number of newlines at the end of a string.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ansible.template-pysrc.html#_count_newlines_from_end">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="display"></a><span class="summary-name">display</span> = <code title="Display()">Display()</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="NON_TEMPLATED_TYPES"></a><span class="summary-name">NON_TEMPLATED_TYPES</span> = <code title="(&lt;type 'bool'&gt;, &lt;class 'numbers.Number'&gt;)"><code class="variable-group">(</code>&lt;type 'bool'&gt;<code class="variable-op">, </code>&lt;class 'numbers.Number'&gt;<code class="variable-group">)</code></code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="JINJA2_OVERRIDE"></a><span class="summary-name">JINJA2_OVERRIDE</span> = <code title="'#jinja2:'"><code class="variable-quote">'</code><code class="variable-string">#jinja2:</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="None">None</code><br />
      hash(x)
    </td>
  </tr>
</table>
<p class="indent-wrapped-lines"><b>Imports:</b>
  <a href="type-class.html" title="type">__metaclass__</a>,
  <span title="ast">ast</span>,
  <span title="contextlib">contextlib</span>,
  <span title="os">os</span>,
  <span title="re">re</span>,
  <span title="io.StringIO">StringIO</span>,
  <span title="ansible.compat.six.string_types">string_types</span>,
  <span title="ansible.compat.six.text_type">text_type</span>,
  <a href="str-class.html" title="ansible.compat.six.binary_type">binary_type</a>,
  <span title="jinja2.Environment">Environment</span>,
  <span title="jinja2.loaders.FileSystemLoader">FileSystemLoader</span>,
  <span title="jinja2.exceptions.TemplateSyntaxError">TemplateSyntaxError</span>,
  <span title="jinja2.exceptions.UndefinedError">UndefinedError</span>,
  <span title="jinja2.utils.concat">j2_concat</span>,
  <span title="jinja2.runtime.StrictUndefined">StrictUndefined</span>,
  <a href="ansible.constants-module.html" title="ansible.constants">C</a>,
  <a href="ansible.errors.AnsibleError-class.html" title="ansible.errors.AnsibleError">AnsibleError</a>,
  <a href="ansible.errors.AnsibleFilterError-class.html" title="ansible.errors.AnsibleFilterError">AnsibleFilterError</a>,
  <a href="ansible.errors.AnsibleUndefinedVariable-class.html" title="ansible.errors.AnsibleUndefinedVariable">AnsibleUndefinedVariable</a>,
  <span title="ansible.plugins.filter_loader">filter_loader</span>,
  <span title="ansible.plugins.lookup_loader">lookup_loader</span>,
  <span title="ansible.plugins.test_loader">test_loader</span>,
  <span title="ansible.template.safe_eval.safe_eval">safe_eval</span>,
  <a href="ansible.template.template.AnsibleJ2Template-class.html" title="ansible.template.template.AnsibleJ2Template">AnsibleJ2Template</a>,
  <a href="ansible.template.vars.AnsibleJ2Vars-class.html" title="ansible.template.vars.AnsibleJ2Vars">AnsibleJ2Vars</a>,
  <a href="ansible.utils.unicode-module.html#to_unicode" title="ansible.utils.unicode.to_unicode">to_unicode</a>,
  <a href="ansible.utils.unicode-module.html#to_bytes" title="ansible.utils.unicode.to_str">to_str</a>,
  <span title="sha.sha">sha1</span>,
  <span title="numbers.Number">Number</span>,
  <a href="ansible.utils.display.Display-class.html" title="ansible.utils.display.Display">Display</a>,
  <a href="ansible.template.template-module.html" onclick="show_private();" title="ansible.template.template">template</a>,
  <a href="ansible.template.vars-module.html" onclick="show_private();" title="ansible.template.vars">vars</a>
</p><br />
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_escape_backslashes"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_escape_backslashes</span>(<span class="sig-arg">data</span>,
        <span class="sig-arg">jinja_env</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ansible.template-pysrc.html#_escape_backslashes">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Double backslashes within jinja2 expressions

A user may enter something like this in a playbook::

  debug:
    msg: &quot;Test Case 1\3; {{ test1_name | regex_replace('^(.*)_name$', '\1')}}&quot;

The string inside of the {{ gets interpreted multiple times First by yaml.
Then by python.  And finally by jinja2 as part of it's variable.  Because
it is processed by both python and jinja2, the backslash escaped
characters get unescaped twice.  This means that we'd normally have to use
four backslashes to escape that.  This is painful for playbook authors as
they have to remember different rules for inside vs outside of a jinja2
expression (The backslashes outside of the &quot;{{ }}&quot; only get processed by
yaml and python.  So they only need to be escaped once).  The following
code fixes this by automatically performing the extra quoting of
backslashes inside of a jinja2 expression.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_count_newlines_from_end"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_count_newlines_from_end</span>(<span class="sig-arg">in_str</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ansible.template-pysrc.html#_count_newlines_from_end">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Counts the number of newlines at the end of a string. This is used 
  during the jinja2 templating to ensure the count matches the input, since
  some newlines may be thrown away during the templating.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ansible-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >ansible</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Jul 29 13:11:38 2016
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
